Функция ДеньНеделиСтрокой(НомерДня) Экспорт
	Если НомерДня = 1 Тогда
		Возврат "Понедельник";
	ИначеЕсли НомерДня = 2 Тогда
		Возврат "Вторник";
	ИначеЕсли НомерДня = 3 Тогда
		Возврат "Среда";
	ИначеЕсли НомерДня = 4 Тогда
		Возврат "Четверг";
	ИначеЕсли НомерДня = 5 Тогда
		Возврат "Пятница";
	ИначеЕсли НомерДня = 6 Тогда
		Возврат "Суббота";
	ИначеЕсли НомерДня = 7 Тогда
		Возврат "Воскресенье";
	Иначе
		Возврат "Марсианская суббота";
	КонецЕсли;
КонецФункции

Функция РазностьДат(Дата1, Дата2) Экспорт
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ РазностьДат(&Дата1, &Дата2, День) КАК Разность";
	Запрос.УстановитьПараметр("Дата1", Дата1);
	Запрос.УстановитьПараметр("Дата2", Дата2);
	Выборка = Запрос.Выполнить().Выбрать();
	Выборка.Следующий();
	Возврат pow(pow(Выборка.Разность, 2), 0.5);
КонецФункции

Процедура НапечататьДокумент(ТабДок, Заголовок, НаПринтер = Ложь, ПоказыватьДиалог = Истина, Количество = 1) Экспорт
	Если ТабДок = Неопределено Тогда
		Возврат;
	КонецЕсли;
	//ТабДок = Новый ТабличныйДокумент;
	ТабДок.ТолькоПросмотр = Истина;
	ТабДок.ОтображатьГруппировки = Истина;
	ТабДок.ОтображатьЗаголовки = Ложь;
	ТабДок.ОтображатьСетку = Ложь;
	Если НаПринтер Тогда
		ТабДок.Напечатать();
	Иначе
		ФормаПечати = ПолучитьОбщуюФорму("ФормаПечати");
		ФормаПечати.ТабДок = ТабДок;
		ФормаПечати.Открыть();
	КонецЕсли;
КонецПроцедуры

Процедура ПриУстановкеНовогоНомераЗаказаПриУстановкеНовогоНомера(Источник, СтандартнаяОбработка, Префикс) Экспорт
	Префикс = Формат(ТекущаяДата(), "ДФ=ддММ") + "-";
КонецПроцедуры

Процедура ПриУстановкеНовогоКодаНоменклатурыПриУстановкеНовогоКода(Источник, СтандартнаяОбработка, Префикс) Экспорт
	Если Источник.ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	Если Источник.ВидНоменклатуры = Перечисления.ВидНоменклатуры.Материал Тогда
		Префикс = "М";
	ИначеЕсли Источник.ВидНоменклатуры = Перечисления.ВидНоменклатуры.Материал Тогда
		Префикс = "П";
	ИначеЕсли Источник.ЭтоГруппа Тогда
		Префикс = "Г";
	КонецЕсли;
КонецПроцедуры

Функция ПроверитьКлючСистемы() Экспорт
	//Возврат Истина;
	СтрокаКлюча = "";
	ПолучитьХэш(СтрокаКлюча, Константы.ФирмаНаименование.Получить());
	ПолучитьХэш(СтрокаКлюча, Константы.ФирмаАдрес.Получить());
	ПолучитьХэш(СтрокаКлюча, Константы.ФирмаИНН.Получить());
	Если СтрокаКлюча <> Константы.КлючСистемы.Получить() Тогда
		Возврат Ложь;
	КонецЕсли;
	Возврат Истина;
КонецФункции

Функция ПолучитьДатуАктуальностиОстатков() Экспорт
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	|	ГраницаОстатковСрезПоследних.ДатаКонтроляОстатков
	|ИЗ
	|	РегистрСведений.ГраницаОстатков.СрезПоследних КАК ГраницаОстатковСрезПоследних";
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Возврат Выборка.ДатаКонтроляОстатков;
	КонецЕсли;
	Возврат Дата(1, 1, 1);
КонецФункции

Процедура ПолучитьХэш(СтрокаКлюча, ИсходнаяСтрока) Экспорт
	Для К = 1 По СтрДлина(СокрЛП(ИсходнаяСтрока)) - 1 Цикл
		КС = КодСимвола(Сред(ИсходнаяСтрока, К, 1));
		КСС = Цел(КС / 16);
		КСМ = КС % 16;
		Если КСС > 14 Тогда
			Сим = "F";
		ИначеЕсли КСС > 13 Тогда
			Сим = "E";
		ИначеЕсли КСС > 12 Тогда
			Сим = "D";
		ИначеЕсли КСС > 11 Тогда
			Сим = "C";
		ИначеЕсли КСС > 10 Тогда
			Сим = "B";
		ИначеЕсли КСС > 9 Тогда
			Сим = "A";
		Иначе
			Сим = Строка(КСС);
		КонецЕсли;
		СтрокаКлюча = "" + СтрокаКлюча + Сим;
		Если КСМ > 14 Тогда
			Сим = "F";
		ИначеЕсли КСМ > 13 Тогда
			Сим = "E";
		ИначеЕсли КСМ > 12 Тогда
			Сим = "D";
		ИначеЕсли КСМ > 11 Тогда
			Сим = "C";
		ИначеЕсли КСМ > 10 Тогда
			Сим = "B";
		ИначеЕсли КСМ > 9 Тогда
			Сим = "A";
		Иначе
			Сим = Строка(КСМ);
		КонецЕсли;
		СтрокаКлюча = "" + СтрокаКлюча + Сим;
		К = К + 1;
	КонецЦикла;
КонецПроцедуры

Функция СформироватьСтруктуруНастроек(Объект) Экспорт
	СтруктураНастроек = Новый Структура;
	Для Каждого Реквизит ИЗ Объект.Метаданные().Реквизиты Цикл
		СтруктураНастроек.Вставить(Реквизит.Имя, Объект[Реквизит.Имя]);
	КонецЦикла;
	Возврат СтруктураНастроек;
КонецФункции

Процедура ВосстановитьНастройкиИзСтруктуры(СтруктураНастроек, Объект) Экспорт
	Для Каждого Реквизит ИЗ Объект.Метаданные().Реквизиты Цикл
		СтруктураНастроек.Свойство(Реквизит.Имя, Объект[Реквизит.Имя]);
	КонецЦикла;
КонецПроцедуры

Функция ПреобразоватьТелефон(Телефон) Экспорт
	тТелефон = СокрЛП(СтрЗаменить(Телефон, "-", ""));
	тТелефон = СтрЗаменить(тТелефон, " ", "");
	тТелефон = СтрЗаменить(тТелефон, ",", "");
	тТелефон = СтрЗаменить(тТелефон, ";", "");
	Если Лев(тТелефон, 1) = "8" Тогда
		тТелефон = Сред(тТелефон, 2);
	ИначеЕсли Лев(тТелефон, 1) = "7" И СтрДлина(тТелефон) > 7 Тогда
		тТелефон = Сред(тТелефон, 2);
	ИначеЕсли Лев(тТелефон, 2) = "+7" Тогда
		тТелефон = Сред(тТелефон, 3);
	КонецЕсли;
	тТелефон = Лев(тТелефон, 3) + "-" + Сред(тТелефон, 4, 3) + "-" + Сред(тТелефон, 7, 4);
	Возврат тТелефон;
КонецФункции