Функция ПосчитатьПоказательРекурсивно(Продукция, Показатель)
	Сумма = 0;
	РСНЗ = РегистрыСведений.Калькуляция.СоздатьНаборЗаписей();
	РСНЗ.Отбор.Продукция.Установить(Продукция);
	РСНЗ.Прочитать();
	Если РСНЗ.Количество() > 0 Тогда
		Для Каждого Запись ИЗ РСНЗ Цикл
			Если Запись.Ингредиент.ВидНоменклатуры = Перечисления.ВидНоменклатуры.Продукция Тогда
				Сумма = Сумма + Окр(ПосчитатьПоказательРекурсивно(Запись.Ингредиент, Показатель) * Запись.Количество, 2);
			Иначе
				Сумма = Сумма + Окр(Запись.Ингредиент[Показатель] * Запись.Количество, 2);
			КонецЕсли;
		КонецЦикла;
	Иначе
		Сумма = Сумма + Продукция[Показатель];
	КонецЕсли;
	Возврат Сумма;
КонецФункции

Функция РассчитатьВесПродукции(Продукция) Экспорт
	Если НЕ ОбщийМодуль.ПроверитьКлючСистемы() Тогда
		Возврат 0;
	КонецЕсли;
	Возврат ПосчитатьПоказательРекурсивно(Продукция, "Вес");
КонецФункции

Функция РассчитатьУчетнуюЦену(Продукция) Экспорт
	Если НЕ ОбщийМодуль.ПроверитьКлючСистемы() Тогда
		Возврат 0;
	КонецЕсли;
	Возврат ПосчитатьПоказательРекурсивно(Продукция, "УчетнаяЦена");
КонецФункции