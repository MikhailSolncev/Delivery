
Процедура ПечатьИнгредиентов(ТабДок, тСсылка, Количество = 1, Уровень = 1) Экспорт
	Макет = ПолучитьМакет("Макет");
	ОбластьСтрока = Макет.ПолучитьОбласть("ОбластьСтрока");
	Если ТабДок.ВысотаТаблицы = 0 Тогда
		ОбластьСтрока.Параметры.Номенклатура = "Номенклатура";
		ОбластьСтрока.Параметры.Количество = "Количество";
		ОбластьСтрока.Параметры.Вес = "Учетная цена";
		
		ТабДок.Вывести(ОбластьСтрока);
	КонецЕсли;
	ОбластьСтрока.Параметры.Номенклатура = тСсылка;
	ОбластьСтрока.Параметры.Количество = Количество;
	ОбластьСтрока.Параметры.Вес = РассчетСебестоимости.РассчитатьУчетнуюЦену(тСсылка);
	ТабДок.Вывести(ОбластьСтрока, Уровень);
	
	РСНЗ = РегистрыСведений.Калькуляция.СоздатьНаборЗаписей();
	РСНЗ.Отбор.Продукция.Установить(тСсылка);
	РСНЗ.Прочитать();
	Для Каждого Запись ИЗ РСНЗ Цикл
		ПечатьИнгредиентов(ТабДок, Запись.Ингредиент, Запись.Количество * Количество, Уровень + 1);
	КонецЦикла;
	
	//ОбластьПробел = Макет.ПолучитьОбласть("Пробел");
	//ТабДок.Вывести(ОбластьПробел);
КонецПроцедуры